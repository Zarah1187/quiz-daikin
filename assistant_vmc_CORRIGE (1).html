<div id="tabs" style="display: flex; gap: 10px; margin-bottom: 15px;">
  <button class="tab-button" onclick="setTab('VMC Double Flux')">VMC Double Flux</button>
  <button class="tab-button" onclick="setTab('Questions GÃ©nÃ©rales')">Questions GÃ©nÃ©rales</button>
  <button class="tab-button" onclick="setTab('Segment Client')">Segment Client</button>
</div>
<!-- La gestion des onglets est dÃ©finie plus bas (setTab, activeTab et updateTabStyle). -->
<script>
  const vmcQuestions = [
    { label: "ğŸ’¨ VMC Double Flux", value: "vmc double flux" },
    { label: "ğŸ¥ VidÃ©o Duco", value: "vidÃ©o duco" },
    { label: "ğŸ“˜ Manuel d'installation", value: "manuel d'installation" },
    { label: "ğŸ“„ Fiche technique DucoBox", value: "fiche technique" },
    { label: "ğŸ§© Accessoires compatibles", value: "accessoires" },
    { label: "ğŸ“‘ Brochure commerciale", value: "brochure" }
  ];

  const generalQuestions = [
    { label: "ğŸ’° Comment rÃ©duire les coÃ»ts ?", value: "rÃ©duction coÃ»ts" },
    { label: "ğŸ› ï¸ Comment installer une ventilation ?", value: "installer ventilation" },
    { label: "ğŸ”§ Cas Maintenance", value: "cas maintenance" }
  ];

  const clientSegments = [
    { label: "ğŸ¢ Cas Promoteur", value: "cas promoteur" },
    { label: "ğŸ“ Cas Bureau d'Ã©tudes", value: "cas bureau d'Ã©tudes" },
    { label: "ğŸ› ï¸ Cas Installateur", value: "cas installateur" },
    { label: "ğŸ  Cas Client Final", value: "cas client final" }
  ];
</script>
<div id="questionButtons" style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"></div>

<script>
  function renderQuestions() {
    const container = document.getElementById("questionButtons");
    container.innerHTML = "";

    const currentList =
      activeTab === "VMC Double Flux"
        ? vmcQuestions
        : activeTab === "Questions GÃ©nÃ©rales"
        ? generalQuestions
        : clientSegments;

    currentList.forEach((q) => {
      const btn = document.createElement("button");
      btn.textContent = q.label;
      btn.onclick = () => askQuestion(q.value);
      btn.style = `
        padding: 6px 10px;
        background-color: ${
          activeTab === "VMC Double Flux"
            ? "#E8F5E9"
            : activeTab === "Questions GÃ©nÃ©rales"
            ? "#F3E5F5"
            : "#FFF3E0"
        };
        border: 1px solid ${
          activeTab === "VMC Double Flux"
            ? "#43A047"
            : activeTab === "Questions GÃ©nÃ©rales"
            ? "#6A1B9A"
            : "#E65100"
        };
        color: ${
          activeTab === "VMC Double Flux"
            ? "#2E7D32"
            : activeTab === "Questions GÃ©nÃ©rales"
            ? "#6A1B9A"
            : "#E65100"
        };
        border-radius: 5px;
        font-size: 0.85em;
        cursor: pointer;
      `;
      container.appendChild(btn);
    });
  }
</script>
<div style="margin-bottom: 15px;">
  <input
    id="questionInput"
    type="text"
    placeholder="Pose ta question..."
    style="width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; margin-bottom: 10px;"
  />
  <button
    onclick="askQuestion()"
    style="padding: 8px 12px; background-color: #004B87; color: white; border: none; border-radius: 5px; cursor: pointer;"
  >
    Poser la question
  </button>
</div>
<div id="responseContainer" style="margin-top: 20px; background-color: #f5f5f5; padding: 15px; border-radius: 8px;"></div>
<script>
  function clearResponse() {
    document.getElementById("responseContainer").innerHTML = "";
  }

  function askQuestion(value = null) {
    // Normalise l'entrÃ©eÂ : convertit en minuscules quelle que soit la source (bouton ou saisie).
    const raw = value || document.getElementById("questionInput").value;
    const input = raw.trim().toLowerCase();
    const responseHTML = getResponse(input);
    document.getElementById("responseContainer").innerHTML = responseHTML;
  }
</script>
<script>
  function getResponse(q) {
    // Recherche de synonymes ou de mots partiels pour une meilleure souplesse d'utilisation.
    if (q.includes('fiche')) {
      q = 'fiche technique';
    } else if (q.includes('manuel')) {
      q = "manuel d'installation";
    } else if (q.includes('brochure')) {
      q = 'brochure';
    } else if (q.includes('video') || q.includes('vidÃ©o')) {
      q = 'vidÃ©o duco';
    } else if (q.includes('accessoires') || q.includes('accessoire')) {
      q = 'accessoires';
    } else if (q.includes('neuf')) {
      q = 'neuf';
    } else if (q.includes('rÃ©no')) {
      q = 'rÃ©novation';
    } else if (q.includes('comparatif')) {
      q = 'comparatif';
    }

    switch (q) {
      case 'vmc double flux':
        return `
          <button onclick="askQuestion('neuf')" style="margin-bottom:10px;">ğŸ  Application "NEUF"</button>
          <button onclick="askQuestion('rÃ©novation')" style="margin-bottom:10px;">ğŸ› ï¸ Application "RÃ‰NOVATION"</button>
          <button onclick="askQuestion('comparatif')" style="margin-bottom:10px;">ğŸ“Š Comparatif D325 vs D325FR</button>
        `;

      case 'neuf':
        return `
          <button onclick="askQuestion('vmc double flux')" style="margin-bottom:10px;">â¬…ï¸ Retour</button>
          <p><strong>Application rÃ©sidentielle en neuf (D325FR certifiÃ©e NF)</strong></p>
          <ul>
            <li>ğŸ˜ï¸ Solution idÃ©ale certifiÃ©e NF pour projets neufs du T2 au T5+</li>
            <li>ğŸ” Ã‰changeur haute performance 94% + ventilateurs silencieux</li>
            <li>ğŸŒ¬ï¸ Filtration rigoureuse = qualitÃ© d'air optimale</li>
            <li>âš–ï¸ Compacte, lÃ©gÃ¨re (21kg), installable seul</li>
            <li>â†”ï¸ Interchangeable gauche/droite sans outils</li>
            <li>ğŸ“² Logiciel intÃ©grÃ© : paramÃ©trage automatique selon type de logement</li>
            <li>ğŸ§° Maintenance facilitÃ©e (accÃ¨s frontal)</li>
            <li>ğŸ”— SystÃ¨me complet avec : VMC + bouches + conduits + rÃ©gulation</li>
            <li>ğŸ”‡ Conduits DucoFlex classe D â€“ ZÃ©ro Bruit</li>
            <li>ğŸ“± Application DUCO : calibration & suivi Ã  distance</li>
            <li>ğŸ§  Gestion intelligente des dÃ©bits (base/pointe)</li>
          </ul>
        `;

      case 'rÃ©novation':
        return `
          <button onclick="askQuestion('vmc double flux')" style="margin-bottom:10px;">â¬…ï¸ Retour</button>
          <p><strong>Application rÃ©sidentielle en rÃ©novation (D325 non NF)</strong></p>
          <ul>
            <li>ğŸšï¸ DÃ©bit ajustable jusquâ€™Ã  325 mÂ³/h</li>
            <li>â„ï¸ Free-cooling Ã©tÃ© / chaleur hiver â€“ classe A+ (2 capteurs)</li>
            <li>ğŸ§ª DÃ©tection COâ‚‚ et hygromÃ©trie</li>
            <li>âš–ï¸ LÃ©ger (21 kg) â€“ Installation facile</li>
            <li>â†”ï¸ Interchangeable gauche/droite sans dÃ©montage</li>
            <li>ğŸ”„ Ã‰quilibrage automatique par pression constante</li>
            <li>ğŸ“¦ Fonction copie pour lotissements</li>
            <li>ğŸ”‡ DucoFlex silencieux â€“ Classe D</li>
          </ul>
        `;

      case 'comparatif':
        return `
          <button onclick="askQuestion('vmc double flux')" style="margin-bottom:10px;">â¬…ï¸ Retour</button>
          <strong>ğŸ“Š Comparatif DucoBox D325 vs D325FR (certifiÃ©e NF)</strong>
          <table border="1" cellpadding="5" style="border-collapse: collapse; margin-top: 10px;">
            <thead style="background:#004B87; color:white;">
              <tr>
                <th>CritÃ¨res</th>
                <th>D325</th>
                <th>D325FR</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>RÃ©fÃ©rence</td><td>00004649</td><td>00004657</td></tr>
              <tr><td>DÃ©bit max</td><td>325 mÂ³/h</td><td>T2 au T5+</td></tr>
              <tr><td>Poids</td><td>21 kg</td><td>21 kg</td></tr>
              <tr><td>Rendement</td><td>88%</td><td>94%</td></tr>
              <tr><td>Capteurs</td><td>COâ‚‚ + humiditÃ©</td><td>Non</td></tr>
              <tr><td>NF</td><td>Non</td><td>Oui</td></tr>
            </tbody>
          </table>
        `;

      case 'vidÃ©o duco':
        return `
          <p><strong>ğŸ¥ VidÃ©o de prÃ©sentation Duco</strong></p>
          <a href="https://www.youtube.com/watch?v=7Is17RT9G30" target="_blank">ğŸ“º Voir la vidÃ©o</a>
        `;

      case "manuel d'installation":
        return `
          <p><strong>ğŸ“˜ Manuels d'installation</strong></p>
          <ul>
            <li>D325FR (NF) : <a href="https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/Manuel%20installation/ManInst_A_D325FR.pdf" target="_blank">TÃ©lÃ©charger</a></li>
            <li>D325 : <a href="https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/B_D325/ManInst_B_D325.pdf" target="_blank">TÃ©lÃ©charger</a></li>
          </ul>
        `;

      case "brochure":
        return `
          <p><strong>ğŸ“‘ Brochure commerciale</strong></p>
          <a href="https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/Brochure%20commerciale/Broc_A_D325FR.pdf" target="_blank">ğŸ“„ TÃ©lÃ©charger</a>
        `;

      case "fiche technique":
        return `
          <p><strong>ğŸ“„ Fiches techniques</strong></p>
          <ul>
            <li>D325 : <a href="https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/B_D325/FicheTech_B_D325.pdf" target="_blank">TÃ©lÃ©charger</a></li>
            <li>D325FR : <a href="https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/FicheTech_A_D325FR.pdf" target="_blank">TÃ©lÃ©charger</a></li>
          </ul>
        `;

      case "accessoires":
        return `
          <p>ğŸ§© Liste des accessoires compatibles :</p>
          <ul>
            <li>DucoFlex</li>
            <li>Siphon</li>
            <li>PrÃ©-chauffeur</li>
            <li>RÃ©gulateurs</li>
            <li>Silencieux</li>
            <li>Bouches</li>
          </ul>
          <a href="https://easyspec.daikin.fr/Easyspec/Ventilation/Documentations/A_D325FR/Liste%20accessoires/Acc_A_D325FR.pdf" target="_blank">Voir la liste complÃ¨te</a>
        `;

      case "rÃ©duction coÃ»ts":
        return `
          <p><strong>ğŸ’° RÃ©duction des coÃ»ts</strong></p>
          <ul>
            <li>RÃ©cupÃ©ration de chaleur = Ã©conomies</li>
            <li>Moins de chauffage/refroidissement</li>
            <li>Moins de maintenance</li>
          </ul>
        `;

      case "installer ventilation":
        return `
          <p><strong>ğŸ› ï¸ Installation ventilation</strong></p>
          <ol>
            <li>Ã‰valuation logement</li>
            <li>Conception du rÃ©seau</li>
            <li>Installation</li>
            <li>Tests / mise en service</li>
          </ol>
        `;

      case "cas maintenance":
        return `
          <p><strong>ğŸ”§ Maintenance</strong></p>
          <ul>
            <li>Remplacement filtres</li>
            <li>Application DUCO pour suivi</li>
            <li>Contrat d'entretien conseillÃ©</li>
          </ul>
        `;

      case "cas promoteur":
        return `
          <p><strong>ğŸ¢ Cas Promoteur</strong></p>
          <ul>
            <li>Valorisation Ã©nergÃ©tique (NF)</li>
            <li>RÃ©duction charges exploitation</li>
          </ul>
        `;

      case "cas bureau d'Ã©tudes":
        return `
          <p><strong>ğŸ“ Cas Bureau d'Ã©tudes</strong></p>
          <ul>
            <li>Fiches techniques</li>
            <li>ConformitÃ© RE2020</li>
            <li>BIM et outils de calcul</li>
          </ul>
        `;

      case "cas installateur":
        return `
          <p><strong>ğŸ› ï¸ Cas Installateur</strong></p>
          <ul>
            <li>Installation rapide</li>
            <li>Raccordement facile</li>
            <li>Calibration automatique</li>
          </ul>
        `;

      case "cas client final":
        return `
          <p><strong>ğŸ  Cas Client Final</strong></p>
          <ul>
            <li>Confort thermique</li>
            <li>Air purifiÃ©</li>
            <li>Silencieux</li>
          </ul>
        `;

      default:
        return `<p>â“ Question inconnue. Essaie un libellÃ© comme "neuf", "vidÃ©o duco", "cas installateur", etc.</p>`;
    }
  }
</script>

<script>
  let activeTab = "VMC Double Flux";

  function setTab(tabName) {
    activeTab = tabName;
    updateTabStyle();
    renderQuestions();      // Affiche les bons boutons
    clearResponse();        // Vide la rÃ©ponse si on change dâ€™onglet
  }

  function updateTabStyle() {
    const buttons = document.querySelectorAll(".tab-button");
    buttons.forEach(btn => {
      if (btn.innerText === activeTab) {
        btn.style.backgroundColor = "#004B87";
        btn.style.color = "white";
      } else {
        btn.style.backgroundColor = "#E3F2FD";
        btn.style.color = "#004B87";
      }
    });
  }

  // Appel initial au chargement de la page :
  document.addEventListener("DOMContentLoaded", () => {
    updateTabStyle();
    renderQuestions();
  });
</script>



